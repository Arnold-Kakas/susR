% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/susr_tables.R
\name{susr_tables}
\alias{susr_tables}
\title{Get the list of all available datasets (tables) from the Slovak Statistical Office}
\usage{
susr_tables(long = FALSE, domains = NULL, table_codes = NULL)
}
\arguments{
\item{long}{Logical (default \code{FALSE}). If \code{TRUE}, the result is
"long" with one row per dimension code (see Details).}

\item{domains}{Character vector or NULL (default). If provided, we filter
tables to only those whose \code{domain} OR \code{subdomain} matches
any of these values. Domain info is taken from the static CSV loaded via
\code{\link[=susr_domains]{susr_domains()}}.}

\item{table_codes}{Character vector or NULL (default). If provided, we filter
to only these table codes.}
}
\value{
A tibble. The columns differ slightly depending on \code{long} (wide vs. long).
\itemize{
\item Always contains: \code{class}, \code{href}, \code{table_code}, \code{label}, \code{update}
\item If \code{long = FALSE}: also \code{dimension_names}
\item If \code{long = TRUE}: also \code{dimension_code}
\item If \code{domain} was used, columns \code{domain} / \code{subdomain} from \code{susr_domains()} are also included.
}
}
\description{
This function calls the SUSR open data API endpoint
\code{https://data.statistics.sk/api/v2/collection?lang=en} to obtain a list
of all datasets, optionally filters them by domain/subdomain and/or
table code, and returns the results in a tibble.
}
\details{
If \code{long = FALSE} (default), each row corresponds to a single dataset
and the dimension codes are concatenated in the \code{dimension_names} column,
separated by \code{":"}.

If \code{long = TRUE}, the function pivots such that each dimension code is
in its own row (under \code{dimension_code}).

If \code{domains} is not NULL, this function calls \code{\link[=susr_domains]{susr_domains()}} to retrieve
your static CSV with domain and subdomain data, joins it on \code{table_code},
and filters accordingly.

If \code{table_codes} is not NULL, we filter the final list to only those codes.
}
\examples{
\dontrun{
# 1) Get all tables (wide format, no filtering)
tables_all <- susr_tables()

# 2) Filter to just certain table codes:
tables_some <- susr_tables(table_code = c("as1001rs", "as1002rs"))

# 3) Filter by domain or subdomain:
#    e.g., if your CSV has domain = "Environment", "Macroeconomic statistics", etc.
env_tables <- susr_tables(domain = "Environment")

# 4) Combined: filter by domain + get long format
macroeconomic_tables <- susr_tables(long = TRUE, domain = "Macroeconomic statistics")
}
}
